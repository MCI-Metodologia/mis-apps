<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Compa√±√≠a Diaria para Seniors | Apoyo Emocional Virtual | MCI Serie Ori√≥n</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="MCI Serie Ori√≥n - Metodolog√≠a de Conciencia Integral. Acompa√±amiento emocional para adultos mayores. Apoyo contra la soledad, ansiedad y aislamiento social.">
    <meta name="keywords" content="MCI Serie Ori√≥n, Metodolog√≠a de Conciencia Integral, acompa√±amiento emocional, apoyo adultos mayores, soledad en la vejez, ansiedad seniors, desarrollo personal">
    <meta name="author" content="MCI Metodolog√≠a de Conciencia Integral">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Compa√±√≠a Diaria para Seniors | MCI Serie Ori√≥n">
    <meta property="og:description" content="Acompa√±amiento emocional y apoyo para adultos mayores. Metodolog√≠a de Conciencia Integral.">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
            font-size: 18px;
            line-height: 1.6;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 15px;
        }

        /* ============================================ */
        /* MODAL DE BLOQUEO POR LICENCIA */
        /* ============================================ */
        .lock-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            padding: 20px;
            overflow-y: auto;
        }
        
        .lock-modal.hidden { display: none; }
        
        .lock-content {
            background: white;
            border-radius: 20px;
            padding: 35px 25px;
            max-width: 550px;
            width: 100%;
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
            text-align: center;
            margin: 20px auto;
            pointer-events: auto;
        }
        
        .lock-content a, .lock-content button {
            pointer-events: auto !important;
            touch-action: manipulation;
        }
        
        .lock-logo {
            width: 70px;
            height: 70px;
            margin: 0 auto 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.2em;
        }
        
        .lock-content h2 {
            color: #667eea;
            font-size: 1.6em;
            margin-bottom: 10px;
        }
        
        .lock-content p {
            color: #636e72;
            font-size: 1em;
            margin-bottom: 15px;
            line-height: 1.5;
        }
        
        .device-warning {
            background: #fff3cd;
            border: 2px solid #ffc107;
            border-radius: 8px;
            padding: 12px;
            margin: 15px 0;
        }
        
        .device-warning strong {
            color: #856404;
            display: block;
            margin-bottom: 5px;
        }
        
        .device-warning p {
            color: #856404;
            font-size: 0.85em;
        }
        
        .disclaimer-box {
            background: #f8d7da;
            border: 2px solid #dc3545;
            border-radius: 8px;
            padding: 12px;
            margin: 15px 0;
        }
        
        .disclaimer-box strong {
            color: #721c24;
            display: block;
            margin-bottom: 5px;
        }
        
        .disclaimer-box p {
            color: #721c24;
            font-size: 0.85em;
        }
        
        .device-id-box {
            background: #f8f9fa;
            border: 2px dashed #667eea;
            border-radius: 10px;
            padding: 12px;
            margin: 15px 0;
        }
        
        .device-id-box label {
            display: block;
            font-size: 0.85em;
            color: #636e72;
            margin-bottom: 5px;
        }
        
        .device-id-box .id-value {
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            color: #2d3436;
            word-break: break-all;
            font-weight: bold;
        }
        
        .token-input {
            width: 100%;
            padding: 12px;
            font-size: 0.95em;
            border: 2px solid #dfe6e9;
            border-radius: 8px;
            margin: 12px 0;
            font-family: 'Courier New', monospace;
        }
        
        .token-input:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            padding: 14px 28px;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            width: 100%;
            margin: 8px 0;
            transition: all 0.3s;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        
        .btn-primary:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .btn-generator {
            background: #00b894;
            color: white;
            border: none;
            border-radius: 10px;
            padding: 14px 28px;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            width: 100%;
            margin: 8px 0;
            text-decoration: none;
            display: block;
            transition: all 0.3s;
            position: relative;
        }
        
        .btn-generator:hover {
            transform: translateY(-2px);
            background: #00a383;
            box-shadow: 0 5px 15px rgba(0, 184, 148, 0.4);
        }
        
        .btn-hotmart {
            background: #FF6B35;
            color: white;
            border: none;
            border-radius: 10px;
            padding: 14px 28px;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            width: 100%;
            margin: 8px 0;
            text-decoration: none;
            display: block;
            transition: all 0.3s;
            position: relative;
        }
        
        .btn-hotmart:hover {
            transform: translateY(-2px);
            background: #E55A2B;
            box-shadow: 0 5px 15px rgba(255, 107, 53, 0.4);
        }
        
        .terms-checkbox {
            display: flex;
            align-items: flex-start;
            text-align: left;
            margin: 15px 0;
            gap: 10px;
        }
        
        .terms-checkbox input[type="checkbox"] {
            margin-top: 4px;
            flex-shrink: 0;
        }
        
        .terms-checkbox label {
            font-size: 0.85em;
            color: #636e72;
            line-height: 1.4;
        }
        
        .terms-checkbox label a {
            color: #667eea;
            text-decoration: none;
            cursor: pointer;
        }
        
        .terms-checkbox label a:hover {
            text-decoration: underline;
        }
        
        .error-message {
            background: #ff7675;
            color: white;
            padding: 10px;
            border-radius: 6px;
            margin: 10px 0;
            display: none;
            font-size: 0.9em;
        }
        
        .error-message.show { display: block; }
        
        .legal-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 11000;
            padding: 20px;
            overflow-y: auto;
        }
        
        .legal-modal.show { display: flex; }
        
        .legal-content {
            background: white;
            border-radius: 15px;
            padding: 30px;
            max-width: 700px;
            width: 100%;
            max-height: 80vh;
            overflow-y: auto;
            margin: 20px;
        }
        
        .legal-content h2 {
            color: #667eea;
            margin-bottom: 20px;
        }
        
        .legal-content h3 {
            color: #2d3436;
            margin-top: 20px;
            margin-bottom: 10px;
        }
        
        .legal-content p, .legal-content ul {
            color: #636e72;
            line-height: 1.6;
            margin-bottom: 10px;
        }
        
        .legal-content ul {
            margin-left: 20px;
        }
        
        .btn-close-legal {
            background: #667eea;
            color: white;
            border: none;
            border-radius: 8px;
            padding: 12px 24px;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            margin-top: 20px;
            transition: all 0.3s;
        }
        
        .btn-close-legal:hover {
            background: #764ba2;
            transform: translateY(-2px);
        }
        
        .warning-banner {
            background: #ffeaa7;
            color: #2d3436;
            padding: 12px 20px;
            border-radius: 8px;
            margin-bottom: 15px;
            display: none;
            text-align: center;
        }
        
        .warning-banner.show { display: block; }
        
        .warning-banner strong {
            display: block;
            margin-bottom: 5px;
        }

        /* ============================================ */
        /* ESTILOS DE LA APLICACI√ìN PRINCIPAL (CLARA) */
        /* ============================================ */
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 25px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.15);
            overflow: hidden;
            display: none;
        }
        
        .container.unlocked {
            display: block;
        }

        /* PANTALLA DE CONFIGURACI√ìN INICIAL */
        .setup-screen {
            padding: 40px 25px;
            text-align: center;
            display: none;
        }

        .setup-screen.active {
            display: block;
        }

        .setup-screen h1 {
            color: #0984e3;
            font-size: 2.5em;
            margin-bottom: 20px;
        }

        .setup-screen .avatar {
            font-size: 5em;
            margin: 20px 0;
        }

        .setup-form {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 15px;
            margin: 25px 0;
            text-align: left;
        }

        .setup-form label {
            display: block;
            font-size: 1.3em;
            font-weight: bold;
            color: #2d3436;
            margin: 20px 0 10px 0;
        }

        .setup-form input, .setup-form select {
            width: 100%;
            padding: 15px;
            font-size: 1.2em;
            border: 2px solid #dfe6e9;
            border-radius: 10px;
            font-family: inherit;
        }

        .setup-form input:focus, .setup-form select:focus {
            outline: none;
            border-color: #0984e3;
        }

        /* HEADER */
        header {
            background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%);
            color: white;
            padding: 40px 25px;
            text-align: center;
        }

        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: bold;
        }

        header p {
            font-size: 1.3em;
            opacity: 0.95;
        }

        /* SALUDO PERSONALIZADO */
        .greeting {
            background: #fff3cd;
            padding: 30px;
            text-align: center;
            border-bottom: 3px solid #ffc107;
        }

        .greeting .avatar {
            font-size: 3em;
            margin-bottom: 10px;
        }

        .greeting h2 {
            font-size: 2em;
            color: #0984e3;
            margin-bottom: 10px;
        }

        .greeting p {
            font-size: 1.3em;
            color: #495057;
        }

        /* ALERTAS DE RECORDATORIOS */
        .reminders-alert {
            background: #d1f2eb;
            border-left: 6px solid #00b894;
            padding: 20px;
            margin: 20px;
            border-radius: 10px;
            display: none;
        }

        .reminders-alert.show {
            display: block;
        }

        .reminders-alert h3 {
            color: #00b894;
            font-size: 1.6em;
            margin-bottom: 15px;
        }

        .reminder-item {
            background: white;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .reminder-item .icon {
            font-size: 1.5em;
            margin-right: 10px;
        }

        .reminder-done {
            background: #00b894;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            font-size: 1em;
            cursor: pointer;
        }

        /* SISTEMA DE LOGROS */
        .achievement-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            background: linear-gradient(135deg, #00b894 0%, #00cec9 100%);
            color: white;
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            z-index: 1000;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            transition: transform 0.3s;
            max-width: 90%;
        }

        .achievement-popup.show {
            transform: translate(-50%, -50%) scale(1);
        }

        .achievement-popup .icon {
            font-size: 4em;
            margin-bottom: 20px;
        }

        .achievement-popup h3 {
            font-size: 2em;
            margin-bottom: 15px;
        }

        .achievement-popup p {
            font-size: 1.3em;
            margin-bottom: 20px;
        }

        .achievement-popup button {
            background: white;
            color: #00b894;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            font-size: 1.2em;
            font-weight: bold;
            cursor: pointer;
        }

        /* MEN√ö PRINCIPAL */
        .main-menu {
            padding: 30px 20px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .menu-button {
            background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%);
            color: white;
            border: none;
            border-radius: 20px;
            padding: 35px 25px;
            font-size: 1.4em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 5px 15px rgba(9, 132, 227, 0.3);
            text-align: center;
        }

        .menu-button:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(9, 132, 227, 0.4);
        }

        .menu-button .icon {
            font-size: 2.5em;
            display: block;
            margin-bottom: 10px;
        }

        /* SECCIONES DE CONTENIDO */
        .content-section {
            padding: 35px 25px;
            display: none;
            animation: fadeIn 0.5s;
        }

        .content-section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .back-button {
            background: #6c757d;
            color: white;
            border: none;
            border-radius: 12px;
            padding: 15px 30px;
            font-size: 1.2em;
            cursor: pointer;
            margin-bottom: 25px;
            font-weight: bold;
        }

        .back-button:hover {
            background: #5a6268;
        }

        h2 {
            color: #0984e3;
            font-size: 2.2em;
            margin-bottom: 20px;
            text-align: center;
        }

        h3 {
            color: #2d3436;
            font-size: 1.8em;
            margin: 25px 0 15px 0;
        }

        p {
            font-size: 1.3em;
            color: #495057;
            margin-bottom: 15px;
            line-height: 1.7;
        }

        .card {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            border-left: 6px solid #0984e3;
        }

        /* BOTONES PRINCIPALES DE CLARA */
        .primary-button-clara {
            background: linear-gradient(135deg, #00b894 0%, #00cec9 100%);
            color: white;
            border: none;
            border-radius: 12px;
            padding: 18px 40px;
            font-size: 1.4em;
            font-weight: bold;
            cursor: pointer;
            display: block;
            width: 100%;
            margin: 15px 0;
        }

        .primary-button-clara:hover {
            transform: scale(1.02);
        }

        .secondary-button {
            background: #74b9ff;
            color: white;
            border: none;
            border-radius: 12px;
            padding: 15px 30px;
            font-size: 1.2em;
            cursor: pointer;
            margin: 10px 5px;
        }

        /* RECORDATORIOS CONFIGURABLES */
        .reminder-form {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
        }

        .reminder-form input, .reminder-form select {
            width: 100%;
            padding: 12px;
            margin: 8px 0;
            font-size: 1.2em;
            border: 2px solid #dfe6e9;
            border-radius: 8px;
            font-family: inherit;
        }

        .reminder-list {
            margin: 20px 0;
        }

        .reminder-list-item {
            background: white;
            border: 2px solid #dfe6e9;
            padding: 20px;
            margin: 10px 0;
            border-radius: 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .delete-button {
            background: #d63031;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
        }

        /* SELECTOR DE √ÅNIMO */
        .mood-selector {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 15px;
            margin: 25px 0;
        }

        .mood-button {
            background: white;
            border: 3px solid #dfe6e9;
            border-radius: 15px;
            padding: 20px;
            font-size: 1.2em;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }

        .mood-button:hover {
            border-color: #0984e3;
            background: #e3f2fd;
        }

        .mood-button.selected {
            background: #0984e3;
            color: white;
            border-color: #0984e3;
        }

        .mood-button .emoji {
            font-size: 2.5em;
            display: block;
            margin-bottom: 8px;
        }

        /* DIARIO */
        .journal-area textarea {
            width: 100%;
            min-height: 200px;
            font-size: 1.3em;
            padding: 15px;
            border: 2px solid #dfe6e9;
            border-radius: 10px;
            font-family: inherit;
            line-height: 1.6;
            resize: vertical;
        }

        .saved-message {
            background: #d4edda;
            color: #155724;
            padding: 20px;
            border-radius: 10px;
            margin-top: 15px;
            font-size: 1.3em;
            text-align: center;
            display: none;
        }

        .saved-message.show {
            display: block;
            animation: fadeIn 0.5s;
        }

        /* QUOTE BOX */
        .quote-box {
            background: linear-gradient(135deg, #ffeaa7 0%, #fdcb6e 100%);
            padding: 30px;
            border-radius: 15px;
            margin: 25px 0;
            text-align: center;
            font-size: 1.4em;
            font-style: italic;
            color: #2d3436;
            border: 3px solid #feca57;
        }

        footer {
            background: #f8f9fa;
            padding: 25px;
            text-align: center;
            color: #6c757d;
            border-top: 3px solid #dfe6e9;
        }

        footer p {
            font-size: 1.1em;
        }

        @media (max-width: 768px) {
            body {
                font-size: 16px;
            }

            header h1 {
                font-size: 2.2em;
            }

            .menu-button {
                font-size: 1.2em;
                padding: 30px 20px;
            }

            h2 {
                font-size: 1.8em;
            }

            .main-menu {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- ============================================ -->
    <!-- MODAL DE BLOQUEO POR LICENCIA -->
    <!-- ============================================ -->
    <div id="lockModal" class="lock-modal">
        <div class="lock-content">
            <div class="lock-logo">üîí</div>
            <h2>Compa√±√≠a Diaria Seniors</h2>
            <p><strong>MCI Serie Ori√≥n</strong> - Metodolog√≠a de Conciencia Integral</p>
            <p>Esta aplicaci√≥n requiere una licencia activa para funcionar.</p>
            
            <div class="device-warning">
                <strong>‚ö†Ô∏è IMPORTANTE - LE√â ANTES DE ACTIVAR</strong>
                <p>Tu c√≥digo funcionar√° SOLO en este dispositivo (celular o computadora).</p>
                <p>NO podr√°s usarlo en otro dispositivo despu√©s.</p>
                <p>¬øEst√°s en el dispositivo que vas a usar siempre? Si no, abr√≠ la app en ese dispositivo primero.</p>
            </div>
            
            <div class="disclaimer-box">
                <strong>‚ö†Ô∏è Aviso M√©dico</strong>
                <p>Esta aplicaci√≥n NO reemplaza atenci√≥n m√©dica o psicol√≥gica profesional. Si experiment√°s pensamientos de autolesi√≥n o crisis graves, contact√° inmediatamente:</p>
                <p>üÜò Argentina: 135 (L√≠nea de Prevenci√≥n del Suicidio) | Emergencias: 911</p>
            </div>
            
            <div class="device-id-box">
                <label>ID de tu dispositivo:</label>
                <div class="id-value" id="deviceId"></div>
                <p style="font-size: 0.8em; color: #636e72; margin-top: 8px;">
                    Copi√° este ID para generar tu c√≥digo de activaci√≥n
                </p>
            </div>
            
            <input type="text" id="tokenInput" class="token-input" placeholder="Peg√° tu c√≥digo de activaci√≥n aqu√≠">
            
            <div class="terms-checkbox">
                <input type="checkbox" id="termsCheckbox">
                <label for="termsCheckbox">
                    <span>Acepto los <a onclick="showTerms()">T√©rminos y Condiciones</a> y la <a onclick="showPrivacy()">Pol√≠tica de Privacidad</a></span>
                </label>
            </div>
            
            <button class="btn-primary" id="activateBtn" onclick="activateLicense()" disabled>üîì Activar Licencia</button>
            
            <div id="errorMessage" class="error-message"></div>
            
            <a href="https://mci-metodologia.github.io/mis-apps/generador.html" class="btn-generator" target="_blank">üîë Generar mi C√≥digo de Activaci√≥n</a>
            
            <a href="https://pay.hotmart.com/W104511907Q" class="btn-hotmart" target="_blank">üõí Obtener Acceso</a>
            
            <p style="font-size: 0.85em; color: #636e72; margin-top: 15px;">
                ¬øConsultas? Instagram: <a href="https://www.instagram.com/metodologia.mci/" target="_blank" style="color: #667eea;">@metodologia.mci</a><br>
                Respondemos 9-18hs (Argentina)
            </p>
        </div>
    </div>

    <!-- MODALES LEGALES -->
    <div id="termsModal" class="legal-modal">
        <div class="legal-content">
            <h2>T√©rminos y Condiciones</h2>
            <h3>1. Aceptaci√≥n de T√©rminos</h3>
            <p>Al usar esta aplicaci√≥n, acept√°s estos t√©rminos.</p>
            <h3>2. Licencia</h3>
            <ul>
                <li>Suscripci√≥n: <strong>$9.99 USD/mes</strong></li>
                <li>Renovaci√≥n autom√°tica (pod√©s cancelar cuando quieras)</li>
                <li><strong>Licencia de dispositivo √∫nico:</strong> vinculada a tu ID de dispositivo</li>
                <li>Pago v√≠a Hotmart</li>
            </ul>
            <h3>3. Uso Apropiado</h3>
            <p>Esta herramienta de acompa√±amiento emocional y desarrollo personal <strong>NO sustituye</strong> atenci√≥n m√©dica, psicol√≥gica o psiqui√°trica profesional.</p>
            <h3>4. Edad M√≠nima</h3>
            <p>Debes ser mayor de <strong>18 a√±os</strong>. Menores requieren autorizaci√≥n de padres o tutor legal.</p>
            <h3>5. Cancelaci√≥n y Reembolsos</h3>
            <ul>
                <li>Pod√©s cancelar en cualquier momento</li>
                <li>No hay reembolsos por meses parciales</li>
                <li>El acceso contin√∫a hasta fin del per√≠odo pagado</li>
            </ul>
            <h3>6. Modificaciones</h3>
            <p>Nos reservamos el derecho de modificar estos t√©rminos. Los cambios se notificar√°n por email.</p>
            <h3>7. Propiedad Intelectual</h3>
            <p>Todo el contenido es propiedad de <strong>MCI Metodolog√≠a de Conciencia Integral</strong>. Prohibida su reproducci√≥n sin autorizaci√≥n.</p>
            <p style="margin-top: 20px;"><strong>√öltima actualizaci√≥n:</strong> Febrero 2026</p>
            <button class="btn-close-legal" onclick="closeTerms()">Cerrar</button>
        </div>
    </div>

    <div id="privacyModal" class="legal-modal">
        <div class="legal-content">
            <h2>Pol√≠tica de Privacidad</h2>
            <h3>1. Informaci√≥n que Recopilamos</h3>
            <p><strong>Muy poca.</strong> Solo almacenamos:</p>
            <ul>
                <li><strong>ID de dispositivo:</strong> Generado autom√°ticamente en tu navegador</li>
                <li><strong>Fecha de activaci√≥n:</strong> Para gestionar tu licencia</li>
                <li><strong>Email de compra:</strong> Proporcionado por Hotmart</li>
            </ul>
            <h3>2. C√≥mo Usamos tu Informaci√≥n</h3>
            <ul>
                <li>Validar tu licencia activa</li>
                <li>Enviarte notificaciones de renovaci√≥n</li>
                <li>Soporte t√©cnico si lo necesit√°s</li>
            </ul>
            <h3>3. Almacenamiento Local</h3>
            <p>Tu ID de dispositivo se guarda <strong>solo en tu navegador</strong> (localStorage). No lo enviamos a servidores externos.</p>
            <h3>4. Compartir con Terceros</h3>
            <p><strong>NO compartimos tu informaci√≥n</strong> con terceros, excepto Hotmart (procesa tu pago).</p>
            <h3>5. Tus Derechos</h3>
            <p>Ten√©s derecho a acceder, corregir o eliminar tus datos. Contacto: Instagram @metodologia.mci</p>
            <h3>6. Seguridad</h3>
            <p>Usamos HTTPS y almacenamiento local encriptado.</p>
            <p style="margin-top: 20px;"><strong>√öltima actualizaci√≥n:</strong> Febrero 2026</p>
            <button class="btn-close-legal" onclick="closePrivacy()">Cerrar</button>
        </div>
    </div>

    <div id="warningBanner" class="warning-banner">
        <strong id="warningTitle">‚ö†Ô∏è Tu suscripci√≥n vence pronto</strong>
        <p id="warningText"></p>
    </div>

    <!-- ============================================ -->
    <!-- APLICACI√ìN PRINCIPAL (CLARA) -->
    <!-- ============================================ -->
    <div id="appContainer" class="container">
        <!-- PANTALLA DE CONFIGURACI√ìN INICIAL -->
        <div id="setup-screen" class="setup-screen active">
            <div class="avatar"><img src="clara-celeste.jpg" alt="Clara" style="width: 200px; height: 200px; border-radius: 50%; object-fit: cover; box-shadow: 0 5px 15px rgba(0,0,0,0.2);"></div>
            <h1>¬°Bienvenido/a a Compa√±√≠a Diaria Seniors!</h1>
            <p style="font-size: 1.3em; margin: 20px 0;">Soy Clara, tu compa√±era virtual de cada d√≠a</p>
            
            <div class="setup-form">
                <label for="user-name">¬øC√≥mo te llam√°s?</label>
                <input type="text" id="user-name" placeholder="Ingres√° tu nombre">
                
                <label for="user-country">¬øEn qu√© pa√≠s viv√≠s?</label>
                <select id="user-country">
                    <option value="">Seleccion√° tu pa√≠s</option>
                    <option value="AR">Argentina</option>
                    <option value="CL">Chile</option>
                    <option value="UY">Uruguay</option>
                    <option value="PY">Paraguay</option>
                    <option value="BO">Bolivia</option>
                    <option value="PE">Per√∫</option>
                    <option value="EC">Ecuador</option>
                    <option value="ES">Espa√±a</option>
                    <option value="MX">M√©xico</option>
                    <option value="CO">Colombia</option>
                    <option value="VE">Venezuela</option>
                    <option value="OTHER">Otro</option>
                </select>
                
                <button class="primary-button-clara" onclick="completeSetup()">Comenzar mi viaje con Clara</button>
            </div>
        </div>

        <!-- APLICACI√ìN PRINCIPAL -->
        <div id="main-app" style="display: none;">
            <header>
                <h1>üë• Compa√±√≠a Diaria Seniors</h1>
                <p>Tu acompa√±amiento de cada d√≠a</p>
            </header>

            <div class="greeting">
                <div class="avatar"><img src="clara-celeste.jpg" alt="Clara" style="width: 120px; height: 120px; border-radius: 50%; object-fit: cover; box-shadow: 0 5px 15px rgba(0,0,0,0.2); margin: 0 auto;"></div>
                <h2 id="greeting-text">¬°Buenos d√≠as!</h2>
                <p id="current-date"></p>
            </div>

            <!-- ALERTAS DE RECORDATORIOS -->
            <div id="reminders-alert" class="reminders-alert">
                <h3>‚è∞ Tus recordatorios de hoy:</h3>
                <div id="today-reminders-list"></div>
            </div>

            <!-- POPUP DE LOGROS -->
            <div id="achievement-popup" class="achievement-popup">
                <div class="icon">üéâ</div>
                <h3 id="achievement-title"></h3>
                <p id="achievement-message"></p>
                <button onclick="closeAchievement()">¬°Gracias, Clara!</button>
            </div>

            <!-- MEN√ö PRINCIPAL -->
            <div id="main-menu" class="main-menu">
                <button class="menu-button" onclick="showSection('chat')">
                    <span class="icon">üí¨</span>
                    Conversemos
                </button>

                <button class="menu-button" onclick="showSection('journal')">
                    <span class="icon">üìù</span>
                    Mi Diario
                </button>

                <button class="menu-button" onclick="showSection('activities')">
                    <span class="icon">üéØ</span>
                    Actividades
                </button>

                <button class="menu-button" onclick="showSection('reminders-config')">
                    <span class="icon">‚è∞</span>
                    Mis Recordatorios
                </button>

                <button class="menu-button" onclick="showSection('memories')">
                    <span class="icon">üí≠</span>
                    Mis Recuerdos
                </button>

                <button class="menu-button" onclick="showSection('relax')">
                    <span class="icon">üå∏</span>
                    Relajaci√≥n
                </button>
            </div>

            <!-- SECCI√ìN CONVERSEMOS -->
            <div id="chat" class="content-section">
                <button class="back-button" onclick="goHome()">‚Üê Volver al inicio</button>
                
                <h2>Conversemos un poco</h2>
                
                <div id="weekly-quote" class="quote-box"></div>

                <div class="card">
                    <h3>¬øC√≥mo te sientes hoy?</h3>
                    <div class="mood-selector">
                        <button class="mood-button" onclick="selectMood('excelente')">
                            <span class="emoji">üòä</span>
                            Muy bien
                        </button>
                        <button class="mood-button" onclick="selectMood('bien')">
                            <span class="emoji">üôÇ</span>
                            Bien
                        </button>
                        <button class="mood-button" onclick="selectMood('regular')">
                            <span class="emoji">üòê</span>
                            Regular
                        </button>
                        <button class="mood-button" onclick="selectMood('triste')">
                            <span class="emoji">üòî</span>
                            Triste
                        </button>
                        <button class="mood-button" onclick="selectMood('solo')">
                            <span class="emoji">üò¢</span>
                            Solo/a
                        </button>
                    </div>
                    <div id="mood-response" style="margin-top: 25px; font-size: 1.3em; color: #0984e3;"></div>
                </div>

                <div class="card">
                    <h3>Preguntas para reflexionar</h3>
                    <p><strong>‚Ä¢ ¬øQu√© cosa buena te pas√≥ esta semana?</strong></p>
                    <p><strong>‚Ä¢ ¬øA qui√©n te gustar√≠a llamar o visitar?</strong></p>
                    <p><strong>‚Ä¢ ¬øQu√© recuerdo lindo vino a tu mente hoy?</strong></p>
                    <p><strong>‚Ä¢ ¬øHay algo que te gustar√≠a hacer ma√±ana?</strong></p>
                </div>
            </div>

            <!-- SECCI√ìN DIARIO -->
            <div id="journal" class="content-section">
                <button class="back-button" onclick="goHome()">‚Üê Volver al inicio</button>
                
                <h2>Mi Diario Personal</h2>
                
                <p style="text-align: center; margin-bottom: 25px;">
                    Este es tu espacio privado, <span id="journal-name"></span>. Escrib√≠ lo que quieras: tus pensamientos, sentimientos o recuerdos.
                </p>

                <div class="journal-area">
                    <textarea id="journal-text" placeholder="Hoy me siento...

Estuve pensando en...

Me gustar√≠a..."></textarea>
                    <button class="primary-button-clara" onclick="saveJournal()">üíæ Guardar mi escrito</button>
                    <div id="save-message" class="saved-message">
                        ‚úì Clara guard√≥ tu escrito con √©xito
                    </div>
                </div>
            </div>

            <!-- SECCI√ìN RECORDATORIOS CONFIGURABLES -->
            <div id="reminders-config" class="content-section">
                <button class="back-button" onclick="goHome()">‚Üê Volver al inicio</button>
                
                <h2>Mis Recordatorios</h2>
                
                <p style="text-align: center; margin-bottom: 25px;">
                    Configur√° tus recordatorios y Clara te avisar√° cada d√≠a.
                </p>

                <!-- MEDICAMENTOS -->
                <div class="card">
                    <h3>üíä Medicamentos</h3>
                    <div class="reminder-form">
                        <input type="text" id="med-name" placeholder="Nombre del medicamento">
                        <input type="time" id="med-time">
                        <button class="primary-button-clara" onclick="addMedication()">+ Agregar medicamento</button>
                    </div>
                    <div id="medications-list" class="reminder-list"></div>
                </div>

                <!-- CITAS M√âDICAS -->
                <div class="card">
                    <h3>üìÖ Citas M√©dicas</h3>
                    <div class="reminder-form">
                        <input type="text" id="appt-desc" placeholder="Ejemplo: Dr. P√©rez - Cardi√≥logo">
                        <input type="date" id="appt-date">
                        <input type="time" id="appt-time">
                        <button class="primary-button-clara" onclick="addAppointment()">+ Agregar cita</button>
                    </div>
                    <div id="appointments-list" class="reminder-list"></div>
                </div>

                <!-- CONTACTOS IMPORTANTES -->
                <div class="card">
                    <h3>üìû Contactos Importantes</h3>
                    <div class="reminder-form">
                        <input type="text" id="contact-name" placeholder="Nombre">
                        <input type="tel" id="contact-phone" placeholder="Tel√©fono">
                        <button class="primary-button-clara" onclick="addContact()">+ Agregar contacto</button>
                    </div>
                    <div id="contacts-list" class="reminder-list"></div>
                </div>

                <!-- CUMPLEA√ëOS -->
                <div class="card">
                    <h3>üéÇ Cumplea√±os y Fechas Especiales</h3>
                    <div class="reminder-form">
                        <input type="text" id="bday-name" placeholder="Nombre de la persona">
                        <input type="date" id="bday-date">
                        <button class="primary-button-clara" onclick="addBirthday()">+ Agregar cumplea√±os</button>
                    </div>
                    <div id="birthdays-list" class="reminder-list"></div>
                </div>
            </div>

            <!-- SECCI√ìN ACTIVIDADES -->
            <div id="activities" class="content-section">
                <button class="back-button" onclick="goHome()">‚Üê Volver al inicio</button>
                
                <h2>Actividades para hoy</h2>
                
                <div id="weekly-activity" class="card"></div>

                <p style="text-align: center; margin: 25px 0;">
                    Eleg√≠ alguna actividad que te haga bien:
                </p>

                <div class="card">
                    <h3>üö∂‚Äç‚ôÄÔ∏è Dar un paseo</h3>
                    <p>Caminar aunque sea 10 minutos hace muy bien. Sal√≠ a la vereda, al parque, o simplemente da vueltas en casa.</p>
                </div>

                <div class="card">
                    <h3>üìû Llamar a alguien</h3>
                    <p>Un hijo, nieto, amigo, vecino. Una llamada corta puede alegrar el d√≠a de ambos.</p>
                </div>

                <div class="card">
                    <h3>üå± Cuidar plantas</h3>
                    <p>Regar tus plantas, hablarles, acomodar las macetas. La naturaleza siempre nos acompa√±a.</p>
                </div>

                <div class="card">
                    <h3>üì∑ Ver fotos antiguas</h3>
                    <p>Busc√° ese √°lbum de fotos. Los recuerdos son tesoros.</p>
                </div>

                <div class="card">
                    <h3>üéµ Escuchar m√∫sica</h3>
                    <p>Pon√© tu m√∫sica favorita. Pod√©s bailar un poquito o simplemente escuchar y disfrutar.</p>
                </div>

                <div class="card">
                    <h3>üç≤ Cocinar algo rico</h3>
                    <p>Prepar√° ese plato que tanto te gusta. Merec√©s comer rico.</p>
                </div>
            </div>

            <!-- SECCI√ìN RECUERDOS -->
            <div id="memories" class="content-section">
                <button class="back-button" onclick="goHome()">‚Üê Volver al inicio</button>
                
                <h2>Mis Recuerdos</h2>
                
                <div class="quote-box">
                    "Los recuerdos son la manera en que las personas que amamos siguen viviendo en nuestro coraz√≥n"
                </div>

                <div class="card">
                    <h3>Compart√≠ tus historias</h3>
                    <p>Los recuerdos son tu tesoro m√°s valioso. Pod√©s escribirlos en tu diario, cont√°rselos a tus seres queridos, o simplemente revivirlos en tu mente.</p>
                </div>

                <div class="card">
                    <h3>Preguntas para recordar</h3>
                    <p><strong>üìç ¬øD√≥nde naciste y creciste?</strong></p>
                    <p>Pens√° en tu barrio, tu casa, tus vecinos...</p>
                    
                    <p style="margin-top: 15px;"><strong>üë®‚Äçüë©‚Äçüëß‚Äçüë¶ ¬øC√≥mo era tu familia?</strong></p>
                    <p>Tus padres, hermanos, abuelos... ¬øQu√© record√°s de ellos?</p>
                    
                    <p style="margin-top: 15px;"><strong>üíº ¬øEn qu√© trabajaste?</strong></p>
                    <p>Cont√° sobre tu trabajo, tus compa√±eros, an√©cdotas...</p>
                </div>
            </div>

            <!-- SECCI√ìN RELAJACI√ìN -->
            <div id="relax" class="content-section">
                <button class="back-button" onclick="goHome()">‚Üê Volver al inicio</button>
                
                <h2>Momento de Relajaci√≥n</h2>
                
                <div class="card">
                    <h3>üå¨Ô∏è Ejercicio de Respiraci√≥n</h3>
                    <p><strong>Vamos a respirar juntos:</strong></p>
                    <p style="margin-top: 15px;">1. Sentate c√≥modo/a</p>
                    <p>2. Respir√° profundo por la nariz contando hasta 4</p>
                    <p>3. Manten√© el aire contando hasta 4</p>
                    <p>4. Solt√° el aire lentamente por la boca contando hasta 6</p>
                    <p>5. Repet√≠ esto 5 veces</p>
                </div>

                <div class="card">
                    <h3>üí≠ Pensamiento Positivo</h3>
                    <p>Repet√≠ estas frases para vos mismo/a:</p>
                    <p style="margin-top: 15px; font-style: italic; color: #0984e3;">
                        "Estoy haciendo lo mejor que puedo"<br>
                        "Merezco estar tranquilo/a"<br>
                        "He vivido muchas cosas y sigo aqu√≠"<br>
                        "Soy valioso/a"<br>
                        "Ma√±ana ser√° un nuevo d√≠a"
                    </p>
                </div>
            </div>

            <footer>
                <p><strong>¬© 2026 MCI METODOLOG√çA DE CONCIENCIA INTEGRAL - Serie Ori√≥n</strong></p>
                <p>Todos los derechos reservados.</p>
                <p style="margin-top: 10px; font-size: 0.8em; line-height: 1.5;">
                    Esta aplicaci√≥n es de car√°cter informativo y de apoyo emocional. El contenido es propiedad de la metodolog√≠a mencionada y no sustituye el consejo profesional m√©dico, psicol√≥gico o psiqui√°trico.
                </p>
                <p style="margin-top: 10px;">
                    <a onclick="showTerms()">T√©rminos y Condiciones</a> | 
                    <a onclick="showPrivacy()">Pol√≠tica de Privacidad</a> | 
                    <a href="https://www.instagram.com/metodologia.mci/" target="_blank">Contacto</a>
                </p>
                <p style="margin-top: 8px; font-size: 0.75em; color: #adb5bd;">v1.0 - Febrero 2026</p>
            </footer>
        </div>
    </div>

    <script>
        // ============================================
        // GESTI√ìN DE MODALES LEGALES
        // ============================================
        function showTerms() {
            document.getElementById('termsModal').classList.add('show');
        }
        
        function closeTerms() {
            document.getElementById('termsModal').classList.remove('show');
        }
        
        function showPrivacy() {
            document.getElementById('privacyModal').classList.add('show');
        }
        
        function closePrivacy() {
            document.getElementById('privacyModal').classList.remove('show');
        }

        // ============================================
        // CHECKBOX T√âRMINOS
        // ============================================
        document.getElementById('termsCheckbox').addEventListener('change', function() {
            const tokenValue = document.getElementById('tokenInput').value.trim();
            // Si es c√≥digo maestro, permitir activaci√≥n sin checkbox
            if (tokenValue === 'LILI2026') {
                document.getElementById('activateBtn').disabled = false;
            } else {
                document.getElementById('activateBtn').disabled = !this.checked;
            }
        });
        
        // Tambi√©n escuchar cambios en el input
        document.getElementById('tokenInput').addEventListener('input', function() {
            if (this.value.trim() === 'LILI2026') {
                document.getElementById('activateBtn').disabled = false;
            }
        });

        // ============================================
        // SISTEMA DE LICENCIAS
        // ============================================
        function generateDeviceId() {
            let deviceId = localStorage.getItem('deviceId_seniors_es');
            if (!deviceId) {
                deviceId = 'SEN-ES-' + Date.now() + '-' + Math.random().toString(36).substr(2, 9);
                localStorage.setItem('deviceId_seniors_es', deviceId);
            }
            return deviceId;
        }

        function displayDeviceId() {
            const deviceId = generateDeviceId();
            document.getElementById('deviceId').textContent = deviceId;
        }

        function validateLicense() {
            const licenseData = localStorage.getItem('licenseToken_seniors_es');
            if (!licenseData) return { valid: false, reason: 'no_license' };
            
            try {
                const decoded = atob(licenseData);
                const license = JSON.parse(decoded);
                const deviceId = generateDeviceId();
                
                if (license.deviceId !== deviceId) {
                    return { valid: false, reason: 'wrong_device' };
                }
                
                const daysRemaining = Math.ceil((new Date(license.expiry) - new Date()) / 86400000);
                
                if (daysRemaining < -5) {
                    return { valid: false, reason: 'expired' };
                } else if (daysRemaining < 0) {
                    return { valid: true, grace: true, daysLeft: 5 + daysRemaining };
                } else if (daysRemaining <= 5) {
                    return { valid: true, warning: true, daysLeft: daysRemaining };
                } else {
                    return { valid: true };
                }
            } catch (error) {
                return { valid: false, reason: 'invalid_token' };
            }
        }

        function activateLicense() {
            const token = document.getElementById('tokenInput').value.trim();
            const errorDiv = document.getElementById('errorMessage');
            
            // C√ìDIGO MAESTRO PARA VERIFICACI√ìN
            if (token === 'LILI2026') {
                localStorage.setItem('licenseToken_seniors_es', btoa(JSON.stringify({
                    deviceId: generateDeviceId(),
                    expiry: new Date(Date.now() + 365 * 24 * 60 * 60 * 1000).toISOString()
                })));
                errorDiv.classList.remove('show');
                unlockApp();
                return;
            }
            
            if (!token) {
                errorDiv.textContent = 'Por favor ingres√° un c√≥digo de activaci√≥n';
                errorDiv.classList.add('show');
                return;
            }

            try {
                const decoded = atob(token);
                const license = JSON.parse(decoded);
                const deviceId = generateDeviceId();
                
                if (license.deviceId !== deviceId) {
                    errorDiv.textContent = 'Este c√≥digo no es v√°lido para este dispositivo';
                    errorDiv.classList.add('show');
                    return;
                }
                
                if (new Date(license.expiry) < new Date()) {
                    errorDiv.textContent = 'Este c√≥digo ya venci√≥. Contact√° a MCI para renovar';
                    errorDiv.classList.add('show');
                    return;
                }
                
                Object.keys(localStorage).forEach(key => {
                    if (key.includes('seniors_es') && !key.includes('deviceId')) {
                        localStorage.removeItem(key);
                    }
                });
                
                localStorage.setItem('licenseToken_seniors_es', token);
                errorDiv.classList.remove('show');
                unlockApp();
            } catch (error) {
                errorDiv.textContent = 'C√≥digo inv√°lido. Verific√° e intent√° de nuevo';
                errorDiv.classList.add('show');
            }
        }

        function unlockApp() {
            document.getElementById('lockModal').classList.add('hidden');
            document.getElementById('appContainer').classList.add('unlocked');
            
            const validation = validateLicense();
            
            if (validation.warning || validation.grace) {
                const warningText = document.getElementById('warningText');
                warningText.textContent = validation.grace ? 
                    `Tu suscripci√≥n venci√≥. Ten√©s ${validation.daysLeft} d√≠as de per√≠odo de gracia. Renovar por $9.99 USD/mes` : 
                    `Tu suscripci√≥n vence en ${validation.daysLeft} d√≠as. Renovar por $9.99 USD/mes`;
                document.getElementById('warningBanner').classList.add('show');
            }
            
            // Inicializar app de Clara
            initClaraApp();
        }

        // ============================================
        // APLICACI√ìN DE CLARA - DATOS Y L√ìGICA
        // ============================================
        let userData = {
            name: '',
            country: '',
            hemisphere: 'south',
            visitCount: 0,
            journalEntries: 0,
            activitiesCompleted: 0,
            lastVisit: null
        };

        // CONTENIDO ROTATIVO POR MES Y HEMISFERIO
        const monthlyContent = {
            0: { theme: 'Nuevos comienzos', south: { quote: 'El verano nos llena de energ√≠a para nuevos comienzos', activity: 'Aprovech√° los d√≠as largos para salir temprano a caminar' }, north: { quote: 'Cada nuevo a√±o trae nuevas oportunidades', activity: 'Aunque hace fr√≠o, una caminata corta con abrigo hace bien' } },
            1: { theme: 'Amor y conexi√≥n', south: { quote: 'El amor que diste siempre regresa a ti', activity: 'Llam√° a alguien especial y decile cu√°nto lo apreci√°s' }, north: { quote: 'El amor nos mantiene c√°lidos en cualquier estaci√≥n', activity: 'Escrib√≠ una nota de cari√±o para alguien querido' } },
            2: { theme: 'Gratitud y reflexi√≥n', south: { quote: 'El oto√±o nos ense√±a que soltar tambi√©n es parte de la vida', activity: 'Disfrut√° los colores del oto√±o en un paseo' }, north: { quote: 'La primavera nos recuerda que siempre hay nuevos comienzos', activity: 'Observ√° las flores que est√°n brotando' } },
            3: { theme: 'Familia y ra√≠ces', south: { quote: 'Nuestras ra√≠ces nos sostienen en cualquier estaci√≥n', activity: 'Mir√° fotos viejas de tu familia' }, north: { quote: 'La familia es el jard√≠n donde crecimos', activity: 'Llam√° a un familiar que hace tiempo no escuch√°s' } },
            4: { theme: 'Cuidado personal', south: { quote: 'Cuidarte a vos mismo/a es un acto de amor', activity: 'Tomate un t√© caliente y disfrut√° la tranquilidad' }, north: { quote: 'Merec√©s cuidarte tan bien como cuid√°s a otros', activity: 'Disfrut√° el sol de primavera unos minutos' } },
            5: { theme: 'Recuerdos y nostalgia', south: { quote: 'El invierno nos invita a la reflexi√≥n', activity: 'Abrigate bien y disfrut√° una bebida caliente' }, north: { quote: 'El verano trae recuerdos de d√≠as felices', activity: 'Record√° un verano especial de tu vida' } },
            6: { theme: 'Fuerza interior', south: { quote: 'Ten√©s la fuerza de todos los inviernos que atravesaste', activity: 'Record√° un desaf√≠o que superaste' }, north: { quote: 'Tu fortaleza ha crecido con cada a√±o vivido', activity: 'Pens√° en algo de lo que te sent√≠s orgulloso/a' } },
            7: { theme: 'Creatividad y pasi√≥n', south: { quote: 'Nunca es tarde para crear algo nuevo', activity: 'Hac√© algo creativo: dibuj√°, escrib√≠, cocin√°' }, north: { quote: 'La creatividad no tiene edad', activity: 'Prob√° hacer algo que nunca hiciste' } },
            8: { theme: 'Sabidur√≠a acumulada', south: { quote: 'La primavera celebra todo lo que aprendiste', activity: 'Compart√≠ un consejo con alguien m√°s joven' }, north: { quote: 'El oto√±o es la cosecha de tu sabidur√≠a', activity: 'Escrib√≠ algo que aprendiste en la vida' } },
            9: { theme: 'Celebraci√≥n de la vida', south: { quote: 'Cada d√≠a vivido es un regalo', activity: 'Celebr√° algo peque√±o que te hizo feliz hoy' }, north: { quote: 'Tu vida es una historia hermosa', activity: 'Contale a alguien tu momento m√°s feliz' } },
            10: { theme: 'Generosidad y dar', south: { quote: 'Dar es la forma m√°s linda de amar', activity: 'Hac√© algo lindo por alguien sin que lo espere' }, north: { quote: 'Tu generosidad ha tocado muchas vidas', activity: 'Pens√° en c√≥mo pod√©s ayudar a alguien hoy' } },
            11: { theme: 'Cierre de ciclo y esperanza', south: { quote: 'El verano nos llena de energ√≠a y esperanza', activity: 'Pens√° en algo lindo que quer√©s hacer el a√±o que viene' }, north: { quote: 'El invierno nos prepara para un nuevo comienzo', activity: 'Reflexion√° sobre lo bueno de este a√±o' } }
        };

        // ALMACENAMIENTO
        const medications = JSON.parse(localStorage.getItem('medications') || '[]');
        const appointments = JSON.parse(localStorage.getItem('appointments') || '[]');
        const contacts = JSON.parse(localStorage.getItem('contacts') || '[]');
        const birthdays = JSON.parse(localStorage.getItem('birthdays') || '[]');

        function initClaraApp() {
            const savedUserData = localStorage.getItem('userDataClara');
            if (savedUserData) {
                userData = JSON.parse(savedUserData);
                document.getElementById('setup-screen').classList.remove('active');
                document.getElementById('main-app').style.display = 'block';
                initApp();
            }
        }

        function completeSetup() {
            const name = document.getElementById('user-name').value.trim();
            const country = document.getElementById('user-country').value;
            
            if (!name || !country) {
                alert('Por favor complet√° tu nombre y pa√≠s');
                return;
            }

            userData.name = name;
            userData.country = country;
            
            const southCountries = ['AR', 'CL', 'UY', 'PY', 'BO', 'PE', 'EC'];
            userData.hemisphere = southCountries.includes(country) ? 'south' : 'north';
            
            userData.visitCount = 1;
            userData.lastVisit = new Date().toISOString();
            
            localStorage.setItem('userDataClara', JSON.stringify(userData));
            
            document.getElementById('setup-screen').classList.remove('active');
            document.getElementById('main-app').style.display = 'block';
            initApp();
        }

        function initApp() {
            updateDate();
            updateGreeting();
            updateWeeklyContent();
            checkReminders();
            checkAchievements();
            renderAllLists();
            
            userData.visitCount++;
            const today = new Date().toDateString();
            const lastVisit = userData.lastVisit ? new Date(userData.lastVisit).toDateString() : null;
            
            if (lastVisit !== today) {
                userData.lastVisit = new Date().toISOString();
            }
            
            localStorage.setItem('userDataClara', JSON.stringify(userData));
        }

        function updateDate() {
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            const today = new Date();
            const dateString = today.toLocaleDateString('es-ES', options);
            document.getElementById('current-date').textContent = dateString;
        }

        function updateGreeting() {
            const hour = new Date().getHours();
            let greeting = '¬°Buenos d√≠as';
            if (hour >= 12 && hour < 20) greeting = '¬°Buenas tardes';
            if (hour >= 20 || hour < 6) greeting = '¬°Buenas noches';
            
            document.getElementById('greeting-text').textContent = `${greeting}, ${userData.name}!`;
        }

        function updateWeeklyContent() {
            const month = new Date().getMonth();
            const content = monthlyContent[month];
            const hemisphere = userData.hemisphere;
            
            const quote = content[hemisphere].quote;
            const activity = content[hemisphere].activity;
            
            document.getElementById('weekly-quote').textContent = `"${quote}"`;
            
            const activityCard = document.getElementById('weekly-activity');
            if (activityCard) {
                activityCard.innerHTML = `
                    <h3>üåü Sugerencia de Clara para esta semana</h3>
                    <p><strong>${content.theme}</strong></p>
                    <p style="margin-top: 15px;">${activity}</p>
                `;
            }
            
            const journalName = document.getElementById('journal-name');
            if (journalName) journalName.textContent = userData.name;
        }

        function checkReminders() {
            const today = new Date();
            const todayStr = today.toISOString().split('T')[0];
            
            let reminders = [];
            
            medications.forEach(med => {
                reminders.push(`üíä ${med.time} - ${med.name}`);
            });
            
            appointments.forEach(appt => {
                if (appt.date === todayStr) {
                    reminders.push(`üìÖ ${appt.time} - ${appt.description}`);
                }
            });
            
            birthdays.forEach(bday => {
                const bdayDate = new Date(bday.date + 'T00:00:00');
                const daysUntil = Math.ceil((bdayDate - today) / (1000 * 60 * 60 * 24));
                if (daysUntil >= 0 && daysUntil <= 7) {
                    if (daysUntil === 0) {
                        reminders.push(`üéÇ ¬°Hoy es el cumplea√±os de ${bday.name}!`);
                    } else {
                        reminders.push(`üéÇ En ${daysUntil} d√≠as: Cumplea√±os de ${bday.name}`);
                    }
                }
            });
            
            if (reminders.length > 0) {
                const alertDiv = document.getElementById('reminders-alert');
                const listDiv = document.getElementById('today-reminders-list');
                listDiv.innerHTML = reminders.map(r => `<div class="reminder-item">${r}</div>`).join('');
                alertDiv.classList.add('show');
            }
        }

        function checkAchievements() {
            if (userData.visitCount === 7) {
                showAchievement('¬°Incre√≠ble!', `Llevas 7 d√≠as conmigo, ${userData.name}. ¬°Est√°s creando un hermoso h√°bito! üéâ`);
            }
            
            if (userData.journalEntries === 10) {
                showAchievement('¬°Escritor/a destacado/a!', '¬°Has escrito 10 entradas en tu diario! Tus pensamientos son valiosos. ‚úçÔ∏è');
            }
            
            if (userData.visitCount === 30) {
                showAchievement('¬°Un mes juntos!', `${userData.name}, llevamos un mes acompa√±√°ndonos. ¬°Qu√© hermoso camino! üíú`);
            }
        }

        function showAchievement(title, message) {
            document.getElementById('achievement-title').textContent = title;
            document.getElementById('achievement-message').textContent = message;
            document.getElementById('achievement-popup').classList.add('show');
        }

        function closeAchievement() {
            document.getElementById('achievement-popup').classList.remove('show');
        }

        function showSection(sectionId) {
            document.getElementById('main-menu').style.display = 'none';
            document.querySelector('.greeting').style.display = 'none';
            document.getElementById('reminders-alert').classList.remove('show');
            
            const sections = document.querySelectorAll('.content-section');
            sections.forEach(section => section.classList.remove('active'));
            
            document.getElementById(sectionId).classList.add('active');
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function goHome() {
            document.getElementById('main-menu').style.display = 'grid';
            document.querySelector('.greeting').style.display = 'block';
            checkReminders();
            
            const sections = document.querySelectorAll('.content-section');
            sections.forEach(section => section.classList.remove('active'));
            
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function selectMood(mood) {
            const buttons = document.querySelectorAll('.mood-button');
            buttons.forEach(btn => btn.classList.remove('selected'));
            event.target.closest('.mood-button').classList.add('selected');
            
            const responses = {
                'excelente': { text: `¬°Qu√© bueno que te sientas tan bien, ${userData.name}! Aprovech√° este d√≠a hermoso.`, showButton: false },
                'bien': { text: `Me alegro que est√©s bien, ${userData.name}. Segu√≠ cuid√°ndote.`, showButton: false },
                'regular': { text: `A veces los d√≠as son as√≠, ni muy buenos ni muy malos. Est√° bien sentirse as√≠, ${userData.name}.`, showButton: true },
                'triste': { text: `Entiendo que te sientas triste, ${userData.name}. Todos tenemos d√≠as dif√≠ciles. Estoy aqu√≠ acompa√±√°ndote.`, showButton: true },
                'solo': { text: `Siento que te sientas solo/a, ${userData.name}. La soledad puede ser muy dura, pero no est√°s solo/a. Yo estoy ac√°, y hay gente que te quiere.`, showButton: true }
            };
            
            const response = responses[mood];
            const responseDiv = document.getElementById('mood-response');
            
            responseDiv.innerHTML = `
                <p style="margin-bottom: 15px;">${response.text}</p>
                ${response.showButton ? '<button class="secondary-button" onclick="showSection(\'activities\')" style="margin-top: 15px;">Ver actividades que pueden ayudarte</button>' : ''}
            `;
        }

        function saveJournal() {
            const text = document.getElementById('journal-text').value;
            if (text.trim() === '') {
                alert('Primero escrib√≠ algo antes de guardar');
                return;
            }
            
            const fecha = new Date().toLocaleString('es-ES');
            const entries = JSON.parse(localStorage.getItem('journalEntries') || '[]');
            entries.push({ fecha: fecha, texto: text });
            localStorage.setItem('journalEntries', JSON.stringify(entries));
            
            userData.journalEntries++;
            localStorage.setItem('userDataClara', JSON.stringify(userData));
            
            const saveMsg = document.getElementById('save-message');
            saveMsg.classList.add('show');
            
            setTimeout(() => {
                saveMsg.classList.remove('show');
            }, 3000);
            
            checkAchievements();
        }

        function addMedication() {
            const name = document.getElementById('med-name').value.trim();
            const time = document.getElementById('med-time').value;
            
            if (!name || !time) {
                alert('Por favor complet√° el nombre y horario');
                return;
            }
            
            medications.push({ name, time });
            localStorage.setItem('medications', JSON.stringify(medications));
            
            document.getElementById('med-name').value = '';
            document.getElementById('med-time').value = '';
            
            renderMedicationsList();
        }

        function renderMedicationsList() {
            const list = document.getElementById('medications-list');
            list.innerHTML = medications.map((med, index) => `
                <div class="reminder-list-item">
                    <div>
                        <strong>${med.name}</strong><br>
                        ${med.time}
                    </div>
                    <button class="delete-button" onclick="deleteMedication(${index})">Eliminar</button>
                </div>
            `).join('');
        }

        function deleteMedication(index) {
            medications.splice(index, 1);
            localStorage.setItem('medications', JSON.stringify(medications));
            renderMedicationsList();
        }

        function addAppointment() {
            const description = document.getElementById('appt-desc').value.trim();
            const date = document.getElementById('appt-date').value;
            const time = document.getElementById('appt-time').value;
            
            if (!description || !date || !time) {
                alert('Por favor complet√° todos los campos');
                return;
            }
            
            appointments.push({ description, date, time });
            localStorage.setItem('appointments', JSON.stringify(appointments));
            
            document.getElementById('appt-desc').value = '';
            document.getElementById('appt-date').value = '';
            document.getElementById('appt-time').value = '';
            
            renderAppointmentsList();
        }

        function renderAppointmentsList() {
            const list = document.getElementById('appointments-list');
            list.innerHTML = appointments.map((appt, index) => `
                <div class="reminder-list-item">
                    <div>
                        <strong>${appt.description}</strong><br>
                        ${new Date(appt.date).toLocaleDateString('es-ES')} - ${appt.time}
                    </div>
                    <button class="delete-button" onclick="deleteAppointment(${index})">Eliminar</button>
                </div>
            `).join('');
        }

        function deleteAppointment(index) {
            appointments.splice(index, 1);
            localStorage.setItem('appointments', JSON.stringify(appointments));
            renderAppointmentsList();
        }

        function addContact() {
            const name = document.getElementById('contact-name').value.trim();
            const phone = document.getElementById('contact-phone').value.trim();
            
            if (!name || !phone) {
                alert('Por favor complet√° nombre y tel√©fono');
                return;
            }
            
            contacts.push({ name, phone });
            localStorage.setItem('contacts', JSON.stringify(contacts));
            
            document.getElementById('contact-name').value = '';
            document.getElementById('contact-phone').value = '';
            
            renderContactsList();
        }

        function renderContactsList() {
            const list = document.getElementById('contacts-list');
            list.innerHTML = contacts.map((contact, index) => `
                <div class="reminder-list-item">
                    <div>
                        <strong>${contact.name}</strong><br>
                        üìû <a href="tel:${contact.phone}">${contact.phone}</a>
                    </div>
                    <button class="delete-button" onclick="deleteContact(${index})">Eliminar</button>
                </div>
            `).join('');
        }

        function deleteContact(index) {
            contacts.splice(index, 1);
            localStorage.setItem('contacts', JSON.stringify(contacts));
            renderContactsList();
        }

        function addBirthday() {
            const name = document.getElementById('bday-name').value.trim();
            const date = document.getElementById('bday-date').value;
            
            if (!name || !date) {
                alert('Por favor complet√° nombre y fecha');
                return;
            }
            
            birthdays.push({ name, date });
            localStorage.setItem('birthdays', JSON.stringify(birthdays));
            
            document.getElementById('bday-name').value = '';
            document.getElementById('bday-date').value = '';
            
            renderBirthdaysList();
        }

        function renderBirthdaysList() {
            const list = document.getElementById('birthdays-list');
            list.innerHTML = birthdays.map((bday, index) => `
                <div class="reminder-list-item">
                    <div>
                        <strong>${bday.name}</strong><br>
                        üéÇ ${new Date(bday.date).toLocaleDateString('es-ES', { day: 'numeric', month: 'long' })}
                    </div>
                    <button class="delete-button" onclick="deleteBirthday(${index})">Eliminar</button>
                </div>
            `).join('');
        }

        function deleteBirthday(index) {
            birthdays.splice(index, 1);
            localStorage.setItem('birthdays', JSON.stringify(birthdays));
            renderBirthdaysList();
        }

        function renderAllLists() {
            renderMedicationsList();
            renderAppointmentsList();
            renderContactsList();
            renderBirthdaysList();
        }

        // ============================================
        // INICIALIZACI√ìN GLOBAL
        // ============================================
        window.onload = function() {
            displayDeviceId();
            
            const validation = validateLicense();
            
            if (validation.valid) {
                unlockApp();
            } else {
                const errorDiv = document.getElementById('errorMessage');
                
                if (validation.reason === 'expired') {
                    errorDiv.textContent = 'Tu licencia venci√≥. Contact√° a MCI para renovar por $9.99 USD/mes';
                    errorDiv.classList.add('show');
                } else if (validation.reason === 'wrong_device') {
                    errorDiv.textContent = 'Esta licencia est√° vinculada a otro dispositivo';
                    errorDiv.classList.add('show');
                }
            }
        };
    </script>
</body>
</html>